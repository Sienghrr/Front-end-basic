<div class="container-fluid">
  <h2>Register Form</h2>
  {{registrationForm.value | json}}  <br>
  Form valid? : {{registrationForm.valid}}
  <form [formGroup]="registrationForm" >
  <div class="form-group">
    <label > Username</label>
    <input [class.is-invalid]="registrationForm.get('username')!.invalid && registrationForm.get('username')?.touched"  
    type="text" class="form-control" formControlName="username" >
    <div *ngIf="username?.touched">
      <small class="text-danger" *ngIf="username?.errors?.['required']"> Username is requiered</small>
      <small class="text-danger" *ngIf="username?.errors?.['minlength']"> Username at least 3 characters</small>
      <small class="text-danger" *ngIf="username?.errors?.['forbiddenName']">{{username?.errors?.['forbiddenName']}} Username is Forbidden</small>
    </div>
  </div>
  
  <div class="form-group">
    <label > Password</label>
    <input type="password" class="form-control" formControlName="password">
  </div>
  <div class="form-group">
    <label >Confirm Password</label>
    <input [class.is-invalid]="registrationForm.errors?.['passwordMismatch']" type="password" class="form-control" formControlName="confirmPassword" >
  </div>
  <div class="form-group">
    <label >Phone</label>
    <button class="btn btn-secondary m-2" (click)="addPhone()">add Phone Number</button>
    <input type="text" class="form-control" formControlName="phone" >
    <div formArrayName="altphones" *ngFor="let phone of altphones.controls; let i = index">
      <input type="text" class="form-control" [formControlName]="i" >
    </div>
  </div>
  <div formGroupName="address">
    <div class="form-group">
      <label >Province</label>
      <input type="text" class="form-control" formControlName="province" >
    </div>
    <div class="form-group">
      <label >District</label>
      <input type="text" class="form-control" formControlName="district" >
    </div>
    <div class="form-group">
      <label >Commune</label>
      <input type="text" class="form-control" formControlName="commune" >
    </div>
  </div>
  <div class="form-group">
    <label >Email</label>
    <input [class.is-invalid]="email?.errors?.['required']" type="text" class="form-control" formControlName="email" >
  </div>
  <div class="form-group">
    <label >Subscribe</label>
    <input type="checkbox" class="form-check-input" formControlName="subscribe" >
  </div>

  <button (click)="setTheValue()">Set Value</button>
  </form>
</div>